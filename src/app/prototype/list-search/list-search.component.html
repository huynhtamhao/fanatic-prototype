<mat-card class="form-card">
  <mat-card-title>一覧表示画面</mat-card-title>
  <br />
  <form [formGroup]="formSearch">
    <mat-accordion class="collapsible" multi>
      <mat-expansion-panel [togglePosition]="'before'">
        <mat-expansion-panel-header>
          <mat-panel-title> 検索条件</mat-panel-title> 
        </mat-expansion-panel-header>   
        <mat-card-content>
          <div fxLayout="column">
            <div fxLayout="row wrap" [fxLayoutGap] ="flexGap">
              <div fxLayout="row" >
                <div class="label-header">商品コード</div>
              </div>
              <div fxLayout="row"  fxFlex="calcFlex(1/30)">
                <input id="txt-productCd" formControlName="productCd">
              </div>
              <div fxLayout="row">
                <div class="label-header">商品名</div>
              </div>
              <div fxLayout="row" fxFlex="calcFlex(1/30)">
                <input id="txt-productName" formControlName="productName">
              </div>
            </div>
          </div>
        </mat-card-content>  
      </mat-expansion-panel>
    </mat-accordion>
    <br>
    <div fxLayout="row wrap">
      <div fxFlex="15">
        <button type="button" id="btn-search" (click)="onSearch()" mat-raised-button class="button-size-modal-bottom button-primary">検索</button>       
      </div>
      <div> 
        <button type="button" id="btn-clear" (click)="onClear()"  mat-raised-button class="button-size-modal-bottom button-left">条件クリア</button>     
      </div>
    </div>
    <br>
    <div>
      <mat-table [dataSource]="dataSource" class="table-custom table-scroll mat-elevation-z2">
        <!-- product Cd Column -->
        <ng-container matColumnDef="productCd">
          <mat-header-cell *matHeaderCellDef [fxFlex]="calcFlex(2/20)">商品コード</mat-header-cell>
          <mat-cell *matCellDef="let row; let i = index;" [fxFlex]="calcFlex(2/20)">
            <!-- <a id="lbl-productCd-{{i}}">{{row.get('productCd').value}}</a> -->
            <a mat-list-item >{{row.productCd}}</a> 
          </mat-cell>
          <mat-footer-cell *matFooterCellDef [fxFlex]="calcFlex(2/20)"></mat-footer-cell>
        </ng-container>
        <!-- product Name Column -->
        <ng-container matColumnDef="productName">
          <mat-header-cell *matHeaderCellDef [fxFlex]="calcFlex(5/20)">商品名</mat-header-cell>
          <mat-cell *matCellDef="let row; let i = index;" [fxFlex]="calcFlex(5/20)">
            <label id="lbl-productName-{{i}}">{{row.productName}}</label>
          </mat-cell>
          <mat-footer-cell *matFooterCellDef [fxFlex]="calcFlex(5/20)"></mat-footer-cell>
        </ng-container>
        <!-- description Column -->
        <ng-container matColumnDef="description">
          <mat-header-cell *matHeaderCellDef >説明</mat-header-cell>
          <mat-cell *matCellDef="let row; let i = index;">
            <label id="lbl-description-{{i}}">{{row.description}}</label>
          </mat-cell>
          <mat-footer-cell *matFooterCellDef class="mat-footer" fxLayoutAlign="end center">合計</mat-footer-cell>
        </ng-container>
        <!-- quantity Column -->
        <ng-container matColumnDef="quantity">
          <mat-header-cell *matHeaderCellDef [fxFlex]="calcFlex(2/20)">数量</mat-header-cell>
          <mat-cell *matCellDef="let row; let i = index;" fxLayoutAlign="end center" [fxFlex]="calcFlex(2/20)">
            <label id="lbl-quantity-{{i}}">{{row.quantity | number}}</label>
          </mat-cell>
          <mat-footer-cell *matFooterCellDef [fxFlex]="calcFlex(2/20)" fxLayoutAlign="end center">{{quantityTotal | number}}</mat-footer-cell>
        </ng-container>
        <!-- processing Column -->
        <ng-container matColumnDef="processing">
          <mat-header-cell *matHeaderCellDef [fxFlex]="calcFlex(1/20)">操作</mat-header-cell>
          <mat-cell *matCellDef="let row ; let i = index" fxLayoutAlign="center"[fxFlex]="calcFlex(1/20)">
            <button type="button" class="button-trash" mat-icon-button onclick="this.blur()">
              <mat-icon>more_vert</mat-icon>
            </button>
          </mat-cell>
          <mat-footer-cell *matFooterCellDef [fxFlex]="calcFlex(1/20)" fxLayoutAlign="end center"></mat-footer-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns; sticky:true"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        <mat-footer-row *matFooterRowDef="displayedColumns; sticky:true"></mat-footer-row>
      </mat-table>
    </div>
    <br> 
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons ></mat-paginator>
    <br>
  </form>
</mat-card>
